<!DOCTYPE html>
<html lang="ru">
<head>
    <script src="https://graphicslab.io/sdk/v2/rendex-sdk.min.js"></script>
</head>
<body>
    <div id="player-wrapper"></div>
<script>
        // 1. Получаем ID фильма из параметра ссылки (например, ?id=535341)
        const urlParams = new URLSearchParams(window.location.search);
        const movieKpId = urlParams.get('id');

        const wrapper = document.getElementById('player-wrapper');

        // Если ID есть в ссылке, создаем плеер
        if (movieKpId) {
            // Вставляем тег плеера с нужным ID и настройками
            // Используем дизайн 2 (монохром) и растягиваем на 100%
            wrapper.innerHTML = `
                <ins data-publisher-id="676952878"
                     data-type="kp"
                     data-id="${movieKpId}"
                     data-design="2"
                     data-color1="#333333"
                     data-poster="true"
                     data-autoplay="false"
                     data-width="100%"
                     data-height="100%"></ins>
            `;

            // Динамически подключаем скрипт SDK плеера ПОСЛЕ вставки тега
            // Это нужно, чтобы скрипт точно увидел тег <ins>
            const script = document.createElement('script');
            script.src = "https://graphicslab.io/sdk/v2/rendex-sdk.min.js";
            script.async = true;
            document.head.appendChild(script);

        } else {
            // Если ID не передали, покажем сообщение
            wrapper.innerHTML = "<h2 style='color: #fff; text-align: center;'>Ошибка: ID фильма не найден.</h2>";
        }
    </script>
</body>
</html>
